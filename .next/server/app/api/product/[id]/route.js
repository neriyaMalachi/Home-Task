"use strict";(()=>{var e={};e.id=44,e.ids=[44],e.modules={1185:e=>{e.exports=require("mongoose")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},1671:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>v,patchFetch:()=>g,requestAsyncStorage:()=>m,routeModule:()=>c,serverHooks:()=>y,staticGenerationAsyncStorage:()=>l});var i={};r.r(i),r.d(i,{GET:()=>s});var o=r(9303),a=r(8716),n=r(3131),u=r(7070),d=r(2850),p=r(3683);async function s(e,{params:t}){await (0,d.v)();let{id:r}=await t,i=await p.O.findById(r);return i?u.NextResponse.json(i):u.NextResponse.json({error:"Product not found"},{status:404})}let c=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/product/[id]/route",pathname:"/api/product/[id]",filename:"route",bundlePath:"app/api/product/[id]/route"},resolvedPagePath:"C:\\Users\\Neriya Malachi\\Desktop\\home-work\\src\\app\\api\\product\\[id]\\route.ts",nextConfigOutput:"",userland:i}),{requestAsyncStorage:m,staticGenerationAsyncStorage:l,serverHooks:y}=c,v="/api/product/[id]/route";function g(){return(0,n.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:l})}},2850:(e,t,r)=>{r.d(t,{v:()=>n});var i=r(1185),o=r.n(i);let a=process.env.MONGODB_URI||"";if(!a)throw Error("Missing MONGODB_URI in .env file");let n=async()=>{o().connection.readyState>=1||await o().connect(a)}},3683:(e,t,r)=>{r.d(t,{O:()=>u});var i=r(1185),o=r.n(i);let a=new i.Schema({_id:{type:o().Schema.Types.ObjectId,auto:!0},reviewer:{type:String,required:!0},rating:{type:Number,required:!0,min:1,max:5},comment:{type:String,required:!0},createdAt:{type:Date,default:Date.now}}),n=new i.Schema({name:{type:String,required:!0,unique:!0},description:{type:String,required:!0},price:{type:Number,required:!0},image:{type:String,required:!0},reviews:{type:[a],default:[]}}),u=i.models.Product||(0,i.model)("Product",n)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[276,972],()=>r(1671));module.exports=i})();